"use strict";var advanceDataTablesDemo={init:function(){this.bindUIActions()},bindUIActions:function(){this.table=this.handleDataTables(),this.handleGlobalSearch(),this.handleColumnSearch(),this.handleSelecter(),this.handleClearSelected(),this.addFilterRow(),this.removeFilterRow(),this.clearFilter(),this.table.buttons().container().appendTo("#dt-buttons").unwrap()},handleDataTables:function(){return $("#myTable").DataTable({dom:"<'text-muted'Bi>\n        <'table-responsive'tr>\n        <'mt-4'p>",buttons:["copyHtml5",{extend:"print",autoPrint:!1}],language:{paginate:{previous:'<i class="fa fa-lg fa-angle-left"></i>',next:'<i class="fa fa-lg fa-angle-right"></i>'}},autoWidth:!1,ajax:"assets/data/products.json",deferRender:!0,order:[1,"asc"],columns:[{data:"id",className:"col-checker align-middle",orderable:!1,searchable:!1},{data:{_:"name",sort:"name",search:"name"},className:"align-middle"},{data:"inventory",className:"align-middle"},{data:"variant",className:"align-middle"},{data:"prices",className:"align-middle"},{data:"sales",className:"align-middle"},{data:"id",className:"align-middle text-right",orderable:!1,searchable:!1}],columnDefs:[{targets:0,render:function(e,a,t,n){return'<div class="custom-control custom-control-nolabel custom-checkbox">\n            <input type="checkbox" class="custom-control-input" name="selectedRow[]" id="p'+t.id+'" value="'+t.id+'">\n            <label class="custom-control-label" for="p'+t.id+'"></label>\n          </div>'}},{targets:1,render:function(e,a,t,n){return'<a href="#'+t.id+'" class="tile tile-img mr-1">\n            <img class="img-fluid" src="assets/images/dummy/img-'+t.img+'.jpg" alt="Card image cap">\n          </a>\n          <a href="#'+t.id+'">'+t.name+"</a>"}},{targets:6,render:function(e,a,t,n){return'<a class="btn btn-sm btn-secondary" href="#'+e+'"><i class="fa fa-pencil-alt"></i></a>\n          <a class="btn btn-sm btn-secondary" href="#'+e+'"><i class="far fa-trash-alt"></i></a>'}}]})},handleGlobalSearch:function(){var t=this;$("#table-search").on("keyup focus",function(e){var a=$("#table-search").val();a.length&&"keyup"===e.type&&t.clearSelectedRows(),t.table.search(a).draw()})},handleColumnSearch:function(){var o=this;$(document).on("keyup change",".filter-control",function(e){var a=$(this).parents(".form-row"),t=a.find(".filter-column").val(),l=a.find(".filter-value").val(),n=""===l?"contain":a.find(".filter-operator").val(),i=l,c="";if("notcontain"===n)i="^((?!"+l+").)*$";else if("equal"===n)i="^"+l+"$";else if("notequal"===n)i="^(?!"+l+").*$";else if("beginwith"===n)i="^("+l+"| "+l+").*";else if("endwith"===n)i=".*"+l+"$";else if("greaterthan"===n){var r=l.split("");$.each(r,function(e,a){c+="["+a+"-9]"}),i="^"+c+"*$"}else"lessthan"===n&&function(){for(var e=l.split(""),n=e.length-1,a=function(t){c+=0<t?"|":"",$.each(e,function(e,a){e<=t&&t===n&&(c+="[0-"+a+"]"),e<=t&&t<n&&(c+="[0-9]")})},t=0;t<e.length;t++)a(t);i="^("+c+")$"}();"change"===e.type&&$(e.target).is("select")&&a.find(".filter-value").val("").trigger("keyup"),o.table.column(t).search(i,!0,!0).draw()})},addFilterRow:function(){$("#add-filter-row").on("click",function(){var e=$("#filter-columns").children().first().clone();e.find("select").prop("selectedIndex",0),e.find("input").val(""),$("#filter-columns").append(e)})},removeFilterRow:function(){var a=this;$(document).on("click",".remove-filter-row",function(){var e=$(this).parents(".filter-row");e.find(".filter-value").val("").trigger("keyup"),a.isRemovableRow()&&e.remove()})},isRemovableRow:function(){return 1<$("#filter-columns").children().length},clearFilter:function(){var e=this;$(document).on("click","#clear-filter",function(){$("#modalFilterColumns").modal("hide"),$("#filter-columns").find("select").prop("selectedIndex",0),$("#filter-columns").find("input").val(""),e.table.columns().search("").draw()})},handleSelecter:function(){var n=this;$(document).on("change","#check-handle",function(){var e=$(this).prop("checked");$('input[name="selectedRow[]"]').prop("checked",e),n.getSelectedInfo()}).on("change",'input[name="selectedRow[]"]',function(){var e=$('input[name="selectedRow[]"]'),a=$('input[name="selectedRow[]"]:checked').length,t=a===e.length?"checked":"indeterminate";$("#check-handle").prop("indeterminate",!1).prop("checked",!1),a&&$("#check-handle").prop(t,!0),n.getSelectedInfo()})},handleClearSelected:function(){var e=this;$("#myTable").on("page.dt",function(){e.clearSelectedRows()}),$("#clear-search").on("click",function(){e.clearSelectedRows()})},getSelectedInfo:function(){var e=$('input[name="selectedRow[]"]:checked').length,a=$(".thead-btn"),t=$("<span/>").addClass("selected-row-info text-muted pl-1").text(e+" selected");$(".selected-row-info").remove(),e&&a.prepend(t)},clearSelectedRows:function(){$("#check-handle").prop("indeterminate",!1).prop("checked",!1).trigger("change")}};advanceDataTablesDemo.init();