"use strict";$(function(){var e="//jquery-file-upload.appspot.com/";$("#fileupload-avatar").fileupload({url:e,dropZone:null,dataType:"json",autoUpload:!0,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,maxFileSize:2e6}).on("fileuploadprocessalways",function(e,a){var t=a.index,o=a.files[t];$("#avatar-warning-container").removeClass("show").text(""),o.error&&$("#avatar-warning-container").addClass("show").text(o.error)}).on("fileuploadprogressall",function(e,a){var t=parseInt(a.loaded/a.total*100,10);$("#progress-avatar").addClass("show").children().css("width",t+"%")}).on("fileuploaddone",function(e,a){var t=a.result.files[0],o=$(this).parent().children("img");o.prop("src");t.url?o.prop("src",t.url):t.error&&$("#avatar-warning-container").addClass("show").text(t.error),$("#progress-avatar").removeClass("show").children().css("width",0)});var d=$("<button/>").addClass("btn btn-sm btn-secondary").prop("disabled",!0).text("Processing...").on("click",function(){var e=$(this),a=e.data();e.off("click").text("Abort").on("click",function(){a.abort()}),a.submit().always(function(){$("#progress").removeClass("show").children().css("width",0)})}),l=$("<button/>").addClass("btn btn-sm btn-secondary").html('<i class="far fa-trash-alt"></i>').on("click",function(){$(this).parents(".list-group-item").remove()}),n=$("<button/>").addClass("btn btn-sm btn-secondary").text("Done").on("click",function(){$(this).parents(".list-group-item").fadeOut()});$("#fileupload-customInput, #fileupload-btn, #fileupload-dropzone").fileupload({url:e,dropZone:null,dataType:"json",autoUpload:!1,acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,maxFileSize:999e3,disableImageResize:/Android(?!.*Chrome)|Opera/.test(window.navigator.userAgent),previewMaxWidth:32,previewMaxHeight:32,previewCrop:!0}).on("fileuploadadd",function(e,r){r.context=$("<div/>").addClass("list-group-item").prependTo("#uploadList"),$.each(r.files,function(e,a){var t=$("<div/>").addClass("media-body").text(a.name),o=$("<div/>").addClass("media align-items-center").append(t),i=$("<div/>").addClass("list-group-item-body").append(o);if(!e){var n=$("<div/>").addClass("media-actions").append(d.clone(!0).data(r));i.find(".media").append(n)}i.prependTo(r.context)})}).on("fileuploadprocessalways",function(e,a){var t,o=a.index,i=a.files[o],n=$(a.context.children()[o]),r=void 0;r=i.preview?$("<div/>").addClass("tile tile-img").append(i.preview):$("<div />").addClass("tile bg-danger").text("NA"),t=$("<div/>").addClass("list-group-item-figure").append(r),a.context.prepend(t),o+1===a.files.length&&a.context.find("button").text("Upload").prop("disabled",!!a.files.error),i.error&&(n.append($('<p class="list-group-item-text text-red"/>').text(i.error)),n.next().html(l.clone(!0)))}).on("fileuploadprogressall",function(e,a){var t=parseInt(a.loaded/a.total*100,10);$("#progress").addClass("show").children().css("width",t+"%")}).on("fileuploaddone",function(e,i){$.each(i.result.files,function(e,a){if(a.url){var t=$("<a>").attr("target","_blank").prop("href",a.url);i.context.find(".media-body").wrapInner(t),i.context.find(".media-actions").html(n.clone(!0))}else if(a.error){var o=$('<p class="list-group-item-text text-red"/>').text(a.error);i.context.find(".media-body").append(o),i.context.find(".media-actions").html(l.clone(!0))}})}).on("fileuploadfail",function(e,t){$.each(t.files,function(e){var a=$('<p class="list-group-item-text text-red"/>').text("File upload failed.");$(t.context).find(".media-body").append(a),t.context.find(".media-actions").html(l.clone(!0))})}).prop("disabled",!$.support.fileInput).parent().addClass($.support.fileInput?void 0:"disabled");var a=$("#dropzone");$("#fileupload-dropzone").fileupload("option","dropZone",a),a.on("dragover",function(){a.addClass("hover")}).on("drop dragleave",function(){a.removeClass("hover")})});